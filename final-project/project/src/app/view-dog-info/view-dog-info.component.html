<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Information</title>

    <!-- Add Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="view-dog-info.component.css">
    <link rel="icon" type="image/x-icon" href="/assets/logo.svg">
</head>
<body>

    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
        <a class="navbar-brand">
            <img src="/assets/logo.svg" height="50px" alt="Your Logo">
        </a>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item active">
                    <a class="nav-link" href="/dashboard">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/aboutus">About</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/contact">Contact</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container mt-5 pt-5">
        <div class="row justify-content-center">
            <div class="col-md-8"> 
                <br>
                <div class="card rounded-card shadow p-4">
                    <form [formGroup]="dogUpdate" (ngSubmit)="onUpload()">
                    <div class="row">
                        <div class="col-md-5 text-center">
                            <h2 class="mt-3">Meet {{dog.name}}!</h2>
                            <div class ="form-group">
                            </div>
                            <img [src]="uploadedImageUrl ? uploadedImageUrl : 'data:image/png;base64,' + dog.photo" alt="Pet Photo" class="rounded-image img-fluid">
                            <div class="form-group">
                                <br>
                                <!-- <input type="file" (change)= "onFileChanged($event)" class="form-control-file" id="photo" accept="image/*" value="Upload New Photo"> -->
                                <div class="form-group">
                                    <label for="photo">Upload new photo</label>
                                    <div class="custom-file">
                                        <input type="file" (change)="onFileChanged($event)" class="custom-file-input" id="photo" accept="image/*">
                                        <label class="custom-file-label" for="photo">{{ selectedFileName || 'Choose file' }}</label>
                                    </div>
                                </div>
                                <label for="id">ID</label>
                                <input formControlName="id" type="text" class="form-control" id="id" value="{{dog.id}}" readonly>
                                <br>
                                <div class="form-group">
                                    <label for="status">Status</label>
                                    <select formControlName="status" class="form-control" id="status" [(ngModel)]="dog.status">
                                        <option value="AVAILABLE">AVAILABLE</option>
                                        <option value="PROCESSING">PROCESSING</option>
                                        <option value="ADOPTED">ADOPTED</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-7">
                            
                                <div class="form-group">
                                    <label for="breed">Breed</label>
                                    <input formControlName="breed" type="text" class="form-control" id="breed" value="{{dog.breed}}"/>
                                </div>
        
                                <div class="form-group">
                                    <label for="gender">Gender</label>
                                    <select formControlName="gender" class="form-control" id="gender" [(ngModel)]="dog.gender">
                                        <option value="M">Male</option>
                                        <option value="F">Female</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label for="age">Age (in months)</label>
                                    <input formControlName="age" type="number" class="form-control" id="age" value="{{dog.age}}"/>
                                </div>

                                <div class="form-group">
                                    <label for="arrivalDate">Date of Arrival in Shelter</label>
                                    <input formControlName="doa" type="date" class="form-control" id="arrivalDate" value="{{dog.doa}}"/>
                                </div>
        
                                <div class="form-group">
                                    <label for="personality">Personality</label>
                                    <textarea formControlName="personality" class="form-control" id="personality" rows="4" value="{{dog.personality}}"></textarea>
                                </div>
        
                                <button type="submit" class="btn btn-success mr-2">Update Information</button>
                                <button type = "button" (click)= "executeDeleteFunction()" class="btn btn-danger mr-2">Delete Record</button>
                                <button type = "button" (click)= "goBack()" class="btn btn-secondary">Back</button>
                            
                        </div>
                    </div>
                    </form>
                </div>

            </div>
        </div>
    </div>

    <!-- Include Bootstrap JS (optional) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>
